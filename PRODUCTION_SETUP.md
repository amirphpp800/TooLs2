# راهنمای تنظیم محیط تولید - Pro Tools

## متغیرهای محیطی مورد نیاز

برای عملکرد صحیح سایت، باید متغیرهای زیر را در محیط تولید تنظیم کنید:

### 1. BOT_TOKEN (ضروری)
```
BOT_TOKEN=YOUR_TELEGRAM_BOT_TOKEN
```
- توکن ربات تلگرام برای ارسال کدهای تایید
- از @BotFather در تلگرام دریافت کنید

### 2. ADMIN_USER (ضروری)
```
ADMIN_USER=your_admin_username
```
- نام کاربری ادمین برای ورود به پنل مدیریت

### 3. ADMIN_PASS (ضروری)
```
ADMIN_PASS=your_secure_password
```
- رمز عبور ادمین برای ورود به پنل مدیریت

### 4. DATABASE (ضروری)
- KV Storage برای ذخیره داده‌ها
- در Cloudflare Pages به صورت خودکار تنظیم می‌شود

## بررسی وضعیت سیستم

پس از تنظیم متغیرها، می‌توانید وضعیت سیستم را از طریق:
```
GET /api/health
```

## ویژگی‌های فعال

✅ **احراز هویت کاربران:**
- ورود با تلگرام ID
- کدهای تایید 4 رقمی
- نشست‌های امن 30 روزه

✅ **پنل مدیریت:**
- ورود با Basic Auth + کد 5 رقمی تلگرام
- مدیریت آدرس‌های DNS
- آمار لحظه‌ای

✅ **سیستم DNS:**
- آدرس‌های اختصاصی برای هر کشور
- محدودیت 24 ساعته برای هر کاربر
- ارسال خودکار کانفیگ

✅ **امنیت:**
- تمام حالت‌های آزمایشی حذف شده
- احراز هویت کامل
- داده‌های واقعی

## نکات مهم

1. **هیچ حالت آزمایشی باقی نمانده** - تمام کدها برای تولید آماده‌اند
2. **تمام API ها نیاز به احراز هویت دارند**
3. **کدهای تایید مستقیماً به تلگرام ارسال می‌شوند**
4. **داده‌ها در KV Storage ذخیره می‌شوند**

## عیب‌یابی

اگر مشکلی داشتید:
1. `/api/health` را بررسی کنید
2. متغیرهای محیطی را تأیید کنید  
3. لاگ‌های Cloudflare را بررسی کنید

---
**نسخه:** 1.0.0 Production Ready 🚀
